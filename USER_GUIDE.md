# 채널매니저 사용 가이드

## 🎯 개요

채널매니저는 Booking.com, 야놀자, Airbnb 3개 채널의 숙박 예약을 통합 관리하는 시스템입니다.

## 🌐 접속 방법

브라우저에서 **http://localhost:3000** 을 열어주세요.

## 📱 주요 기능

### 1. 대시보드 (메인 화면)

**위치**: 좌측 메뉴 > 대시보드

**기능**:
- 오늘 체크인/체크아웃 현황
- 다음달 예약 수
- 전체 숙소 수
- 최근 예약 목록
- 채널별 예약 통계
- 빠른 작업 버튼

**사용법**:
1. 대시보드에서 전체 현황을 한눈에 확인
2. "전체 동기화" 버튼으로 모든 채널의 최신 예약 가져오기
3. 각 카드를 클릭하여 상세 페이지로 이동

### 2. 숙소 관리

**위치**: 좌측 메뉴 > 숙소 관리

**숙소 추가**:
1. 우측 상단 "+ 숙소 추가" 버튼 클릭
2. 숙소명, 주소, 설명 입력
3. "저장" 버튼 클릭

**객실 추가**:
1. 숙소 카드에서 "+ 객실 추가" 버튼 클릭
2. 객실명, 타입, 수용인원, 기본요금 입력
3. "저장" 버튼 클릭

**수정/삭제**:
- 각 숙소/객실 카드의 "수정" 또는 "삭제" 버튼 사용

### 3. 재고/요금 관리

**위치**: 좌측 메뉈 > 재고/요금

**기본 사용법**:
1. 숙소 선택
2. 객실 선택
3. 조회할 월 선택
4. 캘린더 형식으로 재고/요금 확인 및 수정

**재고 설정**:
- 각 날짜의 "재고" 컬럼에 수량 입력
- 자동 저장됨

**요금 설정**:
- 각 날짜의 "요금" 컬럼에 금액 입력 (원 단위)
- 자동 저장됨

**편리한 기능**:
- **재고 일괄 설정**: 전체 기간에 동일한 재고 적용
- **요금 일괄 설정**: 전체 기간에 동일한 요금 적용
- **주간 복사**: 특정 날짜의 재고/요금을 7일간 복사
- **채널 동기화**: 설정한 재고/요금을 모든 채널에 반영

**색상 표시**:
- 주말(토,일)은 파란색 배경으로 표시
- 재고가 있으면 녹색, 없으면 빨간색 배경

### 4. 예약 관리

**위치**: 좌측 메뉴 > 예약 관리

**예약 조회**:
1. 필터 조건 설정
   - 채널: Booking.com / 야놀자 / Airbnb
   - 상태: 확정 / 체크인 / 체크아웃 / 취소 / 노쇼
   - 체크인 날짜 범위
2. "검색" 버튼 클릭

**예약 동기화**:
- "예약 동기화" 버튼으로 모든 채널의 최신 예약 가져오기

**예약 상태 변경**:
- 각 예약의 "상태" 드롭다운에서 상태 선택
- 자동으로 저장됨

**예약 상세 보기**:
- 각 예약의 "상세" 버튼 클릭
- 채널 정보, 숙소/객실, 고객 정보, 금액 등 확인

## 🔄 동기화 시스템

### 자동 동기화
- **5분마다**: 자동으로 모든 채널에서 예약 가져오기
- **매일 새벽 3시**: 전체 데이터 동기화

### 수동 동기화
1. **예약 동기화**: 예약 관리 페이지에서 "예약 동기화" 버튼
2. **재고/요금 동기화**: 재고/요금 페이지에서 "채널 동기화" 버튼
3. **전체 동기화**: 대시보드에서 "전체 동기화" 버튼

## 💡 사용 팁

### 초기 설정 순서
1. **숙소 등록**: 먼저 숙소를 추가
2. **객실 등록**: 각 숙소에 객실 추가
3. **재고 설정**: 객실별로 판매 가능한 재고 설정
4. **요금 설정**: 날짜별 요금 설정
5. **채널 동기화**: 설정한 내용을 채널에 반영

### 재고 관리 팁
- **주간복사 기능** 활용: 평일/주말 패턴이 반복되는 경우 편리
- **일괄 설정** 후 개별 조정: 대부분 동일한 재고/요금인 경우
- **주말 요금 차별화**: 주말(파란색 배경)은 요금을 높게 설정

### 예약 관리 팁
- 매일 아침 **오늘 체크인/체크아웃** 확인
- 예약 상태를 **체크인 → 체크아웃**으로 변경하여 관리
- 취소 예약은 **상태를 '취소'**로 변경하면 재고 자동 복구

## 🔧 문제 해결

### 데이터가 보이지 않는 경우
1. 숙소와 객실이 등록되어 있는지 확인
2. "예약 동기화" 버튼을 눌러 최신 데이터 가져오기
3. 브라우저 새로고침 (F5)

### 동기화가 안되는 경우
1. `.env` 파일에 채널 API 키가 올바르게 설정되어 있는지 확인
2. 서버 재시작: 터미널에서 `Ctrl+C` 후 `npm run dev`
3. 에러 로그 확인: 터미널의 에러 메시지 확인

### 재고가 자동으로 차감되지 않는 경우
- 예약 동기화 후 자동으로 재고가 차감됩니다
- 수동으로 예약을 입력한 경우에는 재고를 직접 조정해야 합니다

## 🎨 화면 구성

### 좌측 사이드바
- **대시보드**: 전체 현황
- **숙소 관리**: 숙소/객실 CRUD
- **재고/요금**: 캘린더 방식 관리
- **예약 관리**: 예약 조회 및 상태 관리
- **채널 연동 상태**: 3개 채널 연결 상태 표시

### 상단 헤더
- 현재 페이지 제목
- 알림 아이콘
- 현재 시간 표시

### 메인 콘텐츠
- 각 페이지별 동적 콘텐츠 표시

## 📊 데이터 흐름

```
채널 (Booking.com/야놀자/Airbnb)
    ↓
예약 동기화
    ↓
내부 데이터베이스
    ↓
재고 자동 차감
    ↓
재고/요금 설정
    ↓
채널 동기화
    ↓
채널에 반영
```

## 🚀 고급 기능

### 일괄 작업
- 한 달치 재고/요금을 한번에 설정
- 주간 패턴 복사로 빠른 설정

### 필터링
- 채널별, 상태별, 기간별 예약 조회
- 빠른 검색으로 원하는 예약 찾기

### 실시간 통계
- 대시보드에서 실시간 현황 확인
- 채널별 예약 분포 파악

## 📞 지원

- 문제가 발생하면 터미널의 로그를 확인하세요
- GitHub Issues에 문의: https://github.com/your-repo/issues
